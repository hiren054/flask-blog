{% extends "base.html" %}

{% block header %}
<h1 style="text-align: center; width:75%; margin-left: 10%;">
  {% block title %}Home{% endblock %}
</h1>
{% endblock %}


{% block content %}
{% for post in posts.items %}
<div class="row">
  <div class="leftcolumn">
    <div class="card">
      {% if post.author == current_user %}
      <a class="button" href="{{ url_for('views.update_post', id=post.id) }}">Edit</a>
      <a class="delete-button" href="{{ url_for('views.delete_post', id=post.id) }}">Delete</a>
      {% endif %}
      <a href="{{ url_for('views.post', id=post.id) }}"><h2>{{ post.title.capitalize() }}</h2></a>
      <p>Created by <strong>@{{ post.author.name.capitalize() }}</strong> on {{ post.created.strftime('%d-%m-%Y') }}</p>
      <h4 class="content">
        {{ post.content }}
      </h4>
    </div>
  </div>
</div>
{% endfor %}

<div class="page">
  {% for page_num in posts.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
  {% if page_num %}
    {% if posts.page == page_num %}
      <a class="page-button" href="{{ url_for('views.home', page=page_num) }}">{{ page_num }}</a>
    {% else %}
      <a class="page-button" href="{{ url_for('views.home', page=page_num) }}">{{ page_num }}</a>
    {% endif %}
  {% else %}
    ...
  {% endif %}
{% endfor %}
</div>


<div class="footer">
  <a href="https://in.linkedin.com/in/hiren-rathod-1b20991b6" class="fa fa-linkedin" target="blank"></a>
  <a href="https://github.com/hiren054" class="fa fa-github" target="blank"></a>
  <p>&copy Hiren Rathod | All Rights Reserved | 2021</p>
</div>
{% endblock %}